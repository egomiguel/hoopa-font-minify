"use strict";angular.module("myApp.Login",["ngRoute"]).config(["$routeProvider",function(o){o.when("/login/:uriOption",{templateUrl:"views/login/login.html",controller:"LoginCtrl"})}]).config(["$routeProvider",function(o){o.when("/login/:uriOption/:id",{templateUrl:"views/login/login.html",controller:"LoginCtrl"})}]).controller("LoginCtrl",["$rootScope","$scope","$routeParams","$translate",function(o,n,t,i){$("html,body").scrollTop(0),o.showBanner=!1,n.phoneNumber="",n.smsCode="",n.option=t.uriOption,n.id=t.id||"",n.goToProject=function(n){o.customGoTo("project-details/"+n)},n.loginWithSmsCode=function(){AV.User.signUpOrlogInWithMobilePhone(n.phoneNumber,n.smsCode).then(t=>{o.getUser(),o.initWishList(),o.initOffersList(),""!=n.id?o.customGoTo(n.option+"/"+n.id):o.customGoTo(n.option)}).catch(function(o){console.log(o)})},n.requestSmsCode=function(){AV.Cloud.requestSmsCode(n.phoneNumber).then(n=>{var t=i.instant("SMSSENDED");o.displayAlert("success",t)}).catch(function(n){o.displayAlert("danger",n)})}}]);