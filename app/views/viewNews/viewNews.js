"use strict";angular.module("myApp.ViewNews",["ngRoute"]).config(["$routeProvider",function(e){e.when("/viewNews/:param1",{templateUrl:"views/viewNews/viewNews.html",controller:"ViewNewsCtrl"})}]).controller("ViewNewsCtrl",["$rootScope","$scope","$routeParams",function(e,n,t){e.showBanner=!1,n.new={},n.news=[],n.projects=[],n.date="",n.newsMedia=[],n.projectId=t.param1,n.month=new Array,n.month[0]="January",n.month[1]="February",n.month[2]="March",n.month[3]="April",n.month[4]="May",n.month[5]="June",n.month[6]="July",n.month[7]="August",n.month[8]="September",n.month[9]="October",n.month[10]="November",n.month[11]="December",n.init=function(){new AV.Query("News").get(n.projectId).then(function(e){n.new=e,n.date=e.createdAt;var t=new AV.Query("NewsMedia");t.equalTo("news",e),t.find().then(function(e){n.newsMedia=e,n.$apply()}),n.$apply()});var e=new AV.Query("News");e.limit(5),e.find().then(function(e){n.news=[],e.forEach(function(e){var t=e.get("image").thumbnailURL(60,40),o=e.get("title"),i=e.get("content"),r=e.id;n.news.push({id:r,mainImage:t,title:o,content:i}),n.$apply()}),n.$apply()}).catch(function(e){alert(JSON.stringify(e))});var t=new AV.Query("Project");t.limit(5),t.equalTo("isRecommended",!0),t.find().then(function(e){n.projects=[],e.forEach(function(e){var t=e.get("image").thumbnailURL(260,160),o=e.id;n.projects.push({id:o,mainImage:t}),n.$apply()}),n.$apply()}).catch(function(e){alert(JSON.stringify(e))})},n.init(),n.goToNew=function(n){e.customGoTo("viewNews/"+n)},n.goToNews=function(){e.customGoTo("news/1")},n.goToProject=function(e){console.log(e)}}]);